<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo - Validador de Contraseña Segura</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="static/css/style.css" rel="stylesheet">
    <style>
        body {
            padding-top: 2rem;
            background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
            min-height: 100vh;
        }
        .demo-container {
            max-width: 500px;
            margin: 0 auto;
        }
        .demo-card {
            background: white;
            border-radius: 0.75rem;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #2563eb;
        }
        .demo-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: #111827;
            margin-bottom: 1.5rem;
        }
        .demo-title h1 {
            font-size: 1.5rem;
            margin: 0;
            font-weight: 700;
        }
        .form-control {
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
            padding: 0.75rem 1rem;
        }
        .form-control:focus {
            border-color: #2563eb;
            box-shadow: 0 0 0 0.2rem rgba(37, 99, 235, 0.25);
        }
        .form-label {
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.5rem;
        }
        .info-text {
            background: linear-gradient(135deg, #eff6ff 0%, #f0f9ff 100%);
            border-left: 4px solid #2563eb;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: #1e40af;
        }
        .info-text i {
            margin-right: 0.5rem;
            color: #2563eb;
        }
        .demo-examples {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #e5e7eb;
        }
        .example-item {
            padding: 0.75rem;
            border-radius: 0.5rem;
            background-color: #f9fafb;
            margin-bottom: 0.5rem;
            font-size: 0.85rem;
            font-family: 'Courier New', monospace;
            color: #4b5563;
        }
        .example-item.weak {
            border-left: 3px solid #ef4444;
        }
        .example-item.medium {
            border-left: 3px solid #f59e0b;
        }
        .example-item.strong {
            border-left: 3px solid #10b981;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-card">
            <div class="demo-title">
                <i class="fas fa-lock" style="color: #2563eb; font-size: 1.5rem;"></i>
                <h1>Validador de Contraseña</h1>
            </div>

            <div class="info-text">
                <i class="fas fa-info-circle"></i>
                <strong>Demo en vivo:</strong> Escribe en el campo de contraseña para ver cómo se actualiza el checklist en tiempo real.
            </div>

            <div class="mb-3">
                <label for="demoPassword" class="form-label">
                    <i class="fas fa-lock me-1"></i> Contraseña:
                </label>
                <input type="password" id="demoPassword" class="form-control" placeholder="Escribe tu contraseña..." autocomplete="off">
            </div>

            <div class="demo-examples">
                <h6 style="color: #374151; margin-bottom: 1rem;">
                    <i class="fas fa-lightbulb me-2" style="color: #f59e0b;"></i> Ejemplos:
                </h6>
                
                <div class="example-item weak">
                    <span style="color: #ef4444; font-weight: 600;">❌ Muy débil:</span> 123456
                </div>
                
                <div class="example-item weak">
                    <span style="color: #ef4444; font-weight: 600;">❌ Débil:</span> MiPassword
                </div>
                
                <div class="example-item medium">
                    <span style="color: #f59e0b; font-weight: 600;">⚠️ Media:</span> MiPassword123
                </div>
                
                <div class="example-item strong">
                    <span style="color: #10b981; font-weight: 600;">✅ Fuerte:</span> MiPassword123!
                </div>
                
                <div class="example-item strong">
                    <span style="color: #10b981; font-weight: 600;">✅ Muy fuerte:</span> MiP@ssw0rd$eguro!
                </div>
            </div>

            <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #e5e7eb;">
                <h6 style="color: #374151; margin-bottom: 1rem;">
                    <i class="fas fa-check-circle me-2" style="color: #10b981;"></i> Requisitos de seguridad:
                </h6>
                <ul style="margin: 0; padding-left: 1.5rem; font-size: 0.9rem; color: #4b5563;">
                    <li>Mínimo 8 caracteres</li>
                    <li>Contiene mayúscula (A-Z)</li>
                    <li>Contiene minúscula (a-z)</li>
                    <li>Contiene número (0-9)</li>
                    <li>Contiene carácter especial (!@#$%^&*)</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Validación de contraseña
        const passwordInput = document.getElementById('demoPassword');

        // Crear el checklist de requisitos
        const passwordChecklistHTML = `
            <div class="password-strength-container mt-2 show">
                <div class="password-strength-label mb-2">
                    <small class="text-muted"><i class="fas fa-shield-alt"></i> Requisitos de contraseña segura:</small>
                </div>
                <div class="password-checklist">
                    <div class="checklist-item" data-requirement="length">
                        <i class="fas fa-circle check-icon"></i>
                        <span class="check-text">Mínimo 8 caracteres</span>
                    </div>
                    <div class="checklist-item" data-requirement="uppercase">
                        <i class="fas fa-circle check-icon"></i>
                        <span class="check-text">Contiene mayúscula (A-Z)</span>
                    </div>
                    <div class="checklist-item" data-requirement="lowercase">
                        <i class="fas fa-circle check-icon"></i>
                        <span class="check-text">Contiene minúscula (a-z)</span>
                    </div>
                    <div class="checklist-item" data-requirement="number">
                        <i class="fas fa-circle check-icon"></i>
                        <span class="check-text">Contiene número (0-9)</span>
                    </div>
                    <div class="checklist-item" data-requirement="special">
                        <i class="fas fa-circle check-icon"></i>
                        <span class="check-text">Contiene carácter especial (!@#$%^&*)</span>
                    </div>
                </div>
                <div class="password-strength-meter mt-2">
                    <div class="strength-bar">
                        <div class="strength-fill" style="width: 0%"></div>
                    </div>
                    <div class="strength-text text-muted" style="font-size: 0.85rem; margin-top: 0.25rem;">
                        Fortaleza: <span class="strength-label">Muy débil</span>
                    </div>
                </div>
            </div>
        `;

        // Insertar el checklist después del campo de contraseña
        passwordInput.insertAdjacentHTML('afterend', passwordChecklistHTML);

        // Función para validar contraseña
        function validatePassword(password) {
            const requirements = {
                length: password.length >= 8,
                uppercase: /[A-Z]/.test(password),
                lowercase: /[a-z]/.test(password),
                number: /\d/.test(password),
                special: /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)
            };

            return requirements;
        }

        // Función para actualizar el checklist visual
        function updatePasswordChecklist() {
            const password = passwordInput.value;
            const requirements = validatePassword(password);
            
            // Actualizar cada item del checklist
            Object.keys(requirements).forEach(req => {
                const item = document.querySelector(`.checklist-item[data-requirement="${req}"]`);
                const icon = item.querySelector('.check-icon');
                
                if (requirements[req]) {
                    item.classList.add('checked');
                    icon.classList.remove('fa-circle');
                    icon.classList.add('fa-check-circle');
                    icon.style.color = '#10b981';
                } else {
                    item.classList.remove('checked');
                    icon.classList.remove('fa-check-circle');
                    icon.classList.add('fa-circle');
                    icon.style.color = '#d1d5db';
                }
            });

            // Calcular fortaleza de contraseña
            const metCriteria = Object.values(requirements).filter(v => v).length;
            const strengthPercent = (metCriteria / 5) * 100;
            
            // Actualizar la barra de fortaleza
            const strengthFill = document.querySelector('.strength-fill');
            const strengthLabel = document.querySelector('.strength-label');
            
            strengthFill.style.width = strengthPercent + '%';
            
            if (metCriteria === 0) {
                strengthFill.style.backgroundColor = '#d1d5db';
                strengthLabel.textContent = 'Muy débil';
            } else if (metCriteria <= 2) {
                strengthFill.style.backgroundColor = '#ef4444';
                strengthLabel.textContent = 'Débil';
            } else if (metCriteria === 3) {
                strengthFill.style.backgroundColor = '#f59e0b';
                strengthLabel.textContent = 'Media';
            } else if (metCriteria === 4) {
                strengthFill.style.backgroundColor = '#3b82f6';
                strengthLabel.textContent = 'Fuerte';
            } else {
                strengthFill.style.backgroundColor = '#10b981';
                strengthLabel.textContent = 'Muy fuerte';
            }
        }

        // Escuchar cambios en el campo de contraseña
        passwordInput.addEventListener('input', updatePasswordChecklist);
    </script>
</body>
</html>
